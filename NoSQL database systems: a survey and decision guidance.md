# NoSQL database systems: a survey and decision guidance

# 摘要
今天，数据正在以史无前例的规模被生成并且被消费。这种情况催生了面向持续增上的数据和请求的基于"NoSQL"的可扩展数据管理系统。但是，现有的系统的异构性和多样性使得在面对一个给定的应用上下文进行数据存储选型非常困难。因此，这篇文章从上层视角进行概括：我们并不打算深入对比每个系统的详细的实现特性，我们提供了一个  将功能和非功能的需求与NoSQL数据库中的技术和算法结合起来的比较分类模型。这个NoSQL工具箱使得我们可以根据一个简单的决策树来帮助从业者和研究者根据关键的应用需求过滤出潜在的备选系统。

# 1 介绍
通过几十年的发展，传统的关系型数据库管理系统(RDBMS) 对存储和查询结构化数据提供了涉及：`强一致、事务保证、很高级别的数据可靠性、稳定性等方面 `一套非常强悍的机制。近些年来，一些应用领域处理的有效的数量量已经变得如此巨大以至于通过创痛的数据库方案无法被存储以及处理。社交网络中的用户生成内容，大型网络传感器采集的数据 仅仅是大数据的两个典型的样例。一类可以用来处理大数据的新型的数据存储系统被统一称为：NoSQL数据库，其中很多系统通过牺牲查询能力和一致性保障提供相比关系型数据库更好的水平可扩展和高可用能力。因为任何有状态服务只能和其底层的数据存储具有一样的可扩展和容错能力，这种折衷对于面向服务的计算和作为服务的模型来讲非常关键，

目前有数十个NoSQL数据库系统,由于实现细节变化很快并且系统特性也随着时间变化不断演进，这些系统很难分清出处理其各自适合什么场景? 怎么处理失败? 甚至他们有哪些不同。这篇文章中，我同通过面向应用概念而不是系统特性并且结合NoSQL数据系统的自身需求、实现这些需求的技术需求以及过程中的折衷来对NoSQL的格局进行一个概要展示。我们主要聚焦在：`key-value，文档和宽-列存储`，这几种存储NoSQL类别从数据可扩展性管理上已经覆盖了绝大多数相关技术和设计决策。

第2部分，我们通过key-value存储、文档存储、宽-列存储等存储模型以及设计思想（CAP 以及PACELC）上safety-liveness的折衷两个维度来对NoSQL数据库系统进行分类来提供一种通用分类。
然后在第3部分我们更详细的调研使用到的技术并且描述需求如何和技术相关联。
第4部分通过应用我们的模型我们给出了一个数据库系统核心特征的广泛概述。
最终第5部分总结出根据应用需求来选择合适的NoSQL系统的一个简单和抽象的决策模型。

# 2 整体系统分类
为了对不同的NoSQL系统实现细节进行抽象，我们使用整体分类标准将数据存储分门别类。这一部分，我们使用两个主要分类标准：数据模型 以及 CAP理论。

## 2.1 数据模型分类标准
### 2.1.1  key-value 存储
一个key-value存储包含一些列具有不同key值的key-value序对。由于这个简单的结构，系统只支持get和put操作。存储的数据相对数据库是透明的特性，纯粹的key-value存储不支持CRUD（create、read、update、delete）之外的其他操作。key-value存储因此被认为：没有语义模式（schemaless）：存储数据的结构默认由应用程序在上层进行编码(schema-on-read)并且无法通过一个数据定义语言显示定义（schema-on-write）。
```
思考：关键词：无模式、只支持CRUD操作
目前见到的key-value形式的存储：
磁盘介质：tdb、tssd
内存介质：tair、dcache、redis
```

这种数据模型的显著的优势就是简单性。非常简单的抽象使得数据分区和查询非常容易，这样数据库系统也能实现低延迟和高吞吐。但是，如果应用需要更复杂的操作，比如：范围查询，这种数据模型将不再有效。表1展示用户账户数据和设置是如何在key-value存储系统中存储中。由于比简单查询更复杂的查询无法被支持。数据只能在应用层通过解码分析才能抽取出像：是否支持cookie这样的信息。


